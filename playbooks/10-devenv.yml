- hosts: devenv

  roles:
  - devtools
  - dotfiles
  - emacs

  tasks:

  - name: do lein init
    shell: lein --version
    async: 600
    poll: 0

  - name: ensure leindir
    file: dest={{ devhome }}/.lein state=directory

  - name: link lein files
    file: src={{ item }} dest={{ devhome }}/.lein/{{ item | basename }} state=link
    with_fileglob:
    - home/lein/*

